<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="MomentVault - Capture and preserve your precious moments across time">
    <title>MomentVault - Your Moments, Forever</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="app-container" id="app">
        
        <!-- ===================================
             Authentication Screen
             =================================== -->
        <div class="auth-screen" id="authScreen">
            <div class="glass-card auth-card">
                <div class="auth-icon">ğŸ”</div>
                <h1>MomentVault</h1>
                <p class="mb-2">Your precious moments, securely stored</p>
                
                <div id="authForm">
                    <div class="input-group">
                        <label for="passwordInput">Enter Password</label>
                        <input 
                            type="password" 
                            id="passwordInput" 
                            placeholder="Enter your password"
                            autocomplete="current-password"
                        >
                    </div>
                    <button class="btn btn-primary" onclick="app.authenticate()" style="width: 100%;">
                        ğŸ”“ Unlock Vault
                    </button>
                    <p class="mt-1" style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">
                        First time? Just enter a new password to create your vault.
                    </p>
                </div>
            </div>
        </div>

        <!-- ===================================
             Main Application
             =================================== -->
        <div class="hidden" id="mainApp">
            
            <!-- Header -->
            <header class="app-header">
                <div class="logo">
                    <span>ğŸ›ï¸</span>
                    <span>MomentVault</span>
                </div>
                <div class="nav-actions">
                    <button class="btn btn-glass" onclick="app.showUploadModal()">
                        â• Add Moment
                    </button>
                    <button class="btn btn-glass" onclick="app.logout()">
                        ğŸ”’ Lock
                    </button>
                </div>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                
                <!-- Stats Section -->
                <section class="glass-card mb-3">
                    <h2>Your Journey</h2>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem; margin-top: 1rem;">
                        <div class="text-center">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--accent);" id="totalMoments">0</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">Total Moments</div>
                        </div>
                        <div class="text-center">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--secondary);" id="totalPhotos">0</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">Photos</div>
                        </div>
                        <div class="text-center">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--primary-start);" id="totalVideos">0</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">Videos</div>
                        </div>
                        <div class="text-center">
                            <div style="font-size: 2rem; font-weight: 700; color: var(--success);" id="totalAudio">0</div>
                            <div style="font-size: 0.875rem; color: rgba(255,255,255,0.6);">Audio</div>
                        </div>
                    </div>
                </section>

                <!-- Timeline Section -->
                <section>
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
                        <h2>Timeline</h2>
                        <div style="display: flex; gap: 0.5rem;">
                            <button class="btn btn-glass" onclick="app.filterMoments('all')" id="filterAll">All</button>
                            <button class="btn btn-glass" onclick="app.filterMoments('photo')" id="filterPhoto">ğŸ“·</button>
                            <button class="btn btn-glass" onclick="app.filterMoments('video')" id="filterVideo">ğŸ¥</button>
                            <button class="btn btn-glass" onclick="app.filterMoments('audio')" id="filterAudio">ğŸ¤</button>
                            <button class="btn btn-glass" onclick="app.filterMoments('text')" id="filterText">ğŸ“</button>
                        </div>
                    </div>
                    
                    <div class="timeline-container">
                        <div class="moment-stack" id="momentStack">
                            <!-- Moments will be dynamically inserted here -->
                            <div class="glass-card text-center" style="padding: 3rem;">
                                <div style="font-size: 3rem; margin-bottom: 1rem;">ğŸ“­</div>
                                <h3>No moments yet</h3>
                                <p style="margin-top: 0.5rem;">Start capturing your precious memories!</p>
                                <button class="btn btn-primary mt-2" onclick="app.showUploadModal()">
                                    â• Add Your First Moment
                                </button>
                            </div>
                        </div>
                    </div>
                </section>

            </main>

            <!-- Time Travel Button -->
            <button class="time-travel-btn" id="timeTravelBtn" onclick="app.toggleTimeTravel()" title="Time Travel - View moments from same date in different years">
                ğŸ§³
            </button>

        </div>

        <!-- ===================================
             Upload Modal
             =================================== -->
        <div class="modal-overlay" id="uploadModal">
            <div class="modal-content">
                <button class="modal-close" onclick="app.closeUploadModal()">âœ•</button>
                <h2>Add New Moment</h2>
                <p style="color: rgba(255,255,255,0.7); margin-bottom: 1.5rem;">
                    Capture a memory that matters
                </p>

                <div class="upload-grid">
                    <label class="upload-card" for="photoUpload">
                        <div class="upload-icon">ğŸ“·</div>
                        <div style="font-weight: 600;">Photo</div>
                        <input type="file" id="photoUpload" accept="image/*" onchange="app.handleFileUpload(event, 'photo')">
                    </label>

                    <label class="upload-card" for="videoUpload">
                        <div class="upload-icon">ğŸ¥</div>
                        <div style="font-weight: 600;">Video</div>
                        <input type="file" id="videoUpload" accept="video/*" onchange="app.handleFileUpload(event, 'video')">
                    </label>

                    <label class="upload-card" for="audioUpload">
                        <div class="upload-icon">ğŸ¤</div>
                        <div style="font-weight: 600;">Audio</div>
                        <input type="file" id="audioUpload" accept="audio/*" onchange="app.handleFileUpload(event, 'audio')">
                    </label>

                    <div class="upload-card" onclick="app.showTextEditor()">
                        <div class="upload-icon">ğŸ“</div>
                        <div style="font-weight: 600;">Text Note</div>
                    </div>
                </div>

                <!-- Text Editor (hidden by default) -->
                <div class="hidden mt-2" id="textEditor">
                    <div class="input-group">
                        <label for="momentTitle">Title (optional)</label>
                        <input type="text" id="momentTitle" placeholder="Give this moment a title...">
                    </div>
                    <div class="input-group">
                        <label for="momentText">Your thoughts...</label>
                        <textarea 
                            id="momentText" 
                            rows="6" 
                            placeholder="Write about this moment..."
                            style="width: 100%; padding: 1rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-md); color: white; font-family: var(--font-primary); font-size: 1rem; resize: vertical;"
                        ></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="app.saveTextMoment()">
                        ğŸ’¾ Save Moment
                    </button>
                </div>

                <!-- Preview Area (for uploaded files) -->
                <div class="hidden mt-2" id="uploadPreview">
                    <h3>Preview</h3>
                    <div id="previewContent" style="margin: 1rem 0;"></div>
                    <div class="input-group">
                        <label for="uploadCaption">Add a caption (optional)</label>
                        <textarea 
                            id="uploadCaption" 
                            rows="3" 
                            placeholder="Describe this moment..."
                            style="width: 100%; padding: 1rem; background: rgba(255,255,255,0.05); border: 1px solid rgba(255,255,255,0.1); border-radius: var(--radius-md); color: white; font-family: var(--font-primary); font-size: 1rem; resize: vertical;"
                        ></textarea>
                    </div>
                    <button class="btn btn-primary" onclick="app.saveMoment()">
                        ğŸ’¾ Save Moment
                    </button>
                </div>
            </div>
        </div>

        <!-- ===================================
             Moment Detail Modal
             =================================== -->
        <div class="modal-overlay" id="detailModal">
            <div class="modal-content">
                <button class="modal-close" onclick="app.closeDetailModal()">âœ•</button>
                <div id="detailContent">
                    <!-- Moment details will be inserted here -->
                </div>
                <button class="btn btn-secondary mt-2" onclick="app.deleteMoment()" style="width: 100%;">
                    ğŸ—‘ï¸ Delete Moment
                </button>
            </div>
        </div>

    </div>

    <script src="app.js"></script>
</body>
</html>
